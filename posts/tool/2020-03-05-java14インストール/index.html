<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Document</title><link rel=stylesheet href=https://fukugit.github.io/blog/sass/main.css></head><body><div class=header><h1><a href=https://fukugit.github.io/blog/>Blog</a></h1></div><div class=container><section class=main><h1 id=title>Fish ShellでJAVA_HOME設定</h1><div><article id=content><p>MacにOpenJDKをインストールして、Fish ShellにJAVA_HOMEを設定する方法。</p><h2 id=まずはダウンロード>まずはダウンロード</h2><p>まずはここからtarファイルを取得。<br><a href=https://jdk.java.net/>https://jdk.java.net/</a></p><p>たとえばJava14だったらここからね。<br>macOS / x64のtar.gzファイルをダウンロード。<br><a href=https://jdk.java.net/14/>https://jdk.java.net/14/</a></p><h2 id=インストール>インストール</h2><p>ダウンロードしたファイルを展開するよ。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>tar xvzf openjdk-14.....tar.gz
</code></pre></div><p>そして展開したディレクトリを移動するよ。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo mv jdk-14.jdk /Library/Java/JavaVirtualMachines/
</code></pre></div><p>OpenJDKが入っているか確認するよ。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>/usr/libexec/java_home  -V
Matching Java Virtual Machines <span style=color:#f92672>(</span>4<span style=color:#f92672>)</span>:
    14, x86_64: <span style=color:#e6db74>&#34;OpenJDK 14&#34;</span>    /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home
</code></pre></div><h2 id=環境変数の設定>環境変数の設定</h2><p>環境変数に登録するよ。<br>普通のbashならこんな感じで登録はOK<br>でもFish Shellだとエラーになるのでこのあとの方法で環境変数を変更します。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>export JAVA_HOME<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>/usr/libexec/java_home -v 14<span style=color:#e6db74>`</span>
</code></pre></div><p>Fish Shellだとこんな感じ。<br>詳しくはここを見てね。<br><a href=https://qiita.com/ledsun/items/8ca1a450b21c8ebc9670>https://qiita.com/ledsun/items/8ca1a450b21c8ebc9670</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>vi ~/.config/fish/config.fish
</code></pre></div><p>viで開いたらこんな感じで環境変数を書き込んでね。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>set -x JAVA_HOME <span style=color:#f92672>(</span>/usr/libexec/java_home -v 14<span style=color:#f92672>)</span>
set -U fish_user_paths $JAVA_HOME
</code></pre></div><p>さいごにJavaのバージョンを確認して終わり。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>java -version
</code></pre></div></article></div></section></div></body></html>