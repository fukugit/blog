<!doctype html><html class=no-js lang=ja-jp><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Fish ShellでJAVA_HOME設定 - Blog</title><script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script><meta name=description content><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/blog/css/style.css><link rel="shortcut icon" href=/blog/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class=container><div class=logo><a class=logo__link href=/blog/ title=Blog rel=home><div class=logo__title>Blog</div></a></div><div class=divider></div></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Fish ShellでJAVA_HOME設定</h1></header><div class="content post__content clearfix"><p>MacにOpenJDKをインストールして、Fish ShellにJAVA_HOMEを設定する方法。</p><h2 id=まずはダウンロード>まずはダウンロード</h2><p>まずはここからtarファイルを取得。<br><a href=https://jdk.java.net/>https://jdk.java.net/</a></p><p>たとえばJava14だったらここからね。<br>macOS / x64のtar.gzファイルをダウンロード。<br><a href=https://jdk.java.net/14/>https://jdk.java.net/14/</a></p><h2 id=インストール>インストール</h2><p>ダウンロードしたファイルを展開するよ。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>tar xvzf openjdk-14.....tar.gz
</code></pre></div><p>そして展開したディレクトリを移動するよ。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo mv jdk-14.jdk /Library/Java/JavaVirtualMachines/
</code></pre></div><p>OpenJDKが入っているか確認するよ。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>/usr/libexec/java_home  -V
Matching Java Virtual Machines <span style=color:#f92672>(</span>4<span style=color:#f92672>)</span>:
    14, x86_64: <span style=color:#e6db74>&#34;OpenJDK 14&#34;</span>    /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home
</code></pre></div><h2 id=環境変数の設定>環境変数の設定</h2><p>環境変数に登録するよ。<br>普通のbashならこんな感じで登録はOK<br>でもFish Shellだとエラーになるのでこのあとの方法で環境変数を変更します。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>export JAVA_HOME<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>/usr/libexec/java_home -v 14<span style=color:#e6db74>`</span>
</code></pre></div><p>Fish Shellだとこんな感じ。<br>詳しくはここを見てね。<br><a href=https://qiita.com/ledsun/items/8ca1a450b21c8ebc9670>https://qiita.com/ledsun/items/8ca1a450b21c8ebc9670</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>vi ~/.config/fish/config.fish
</code></pre></div><p>viで開いたらこんな感じで環境変数を書き込んでね。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>set -x JAVA_HOME <span style=color:#f92672>(</span>/usr/libexec/java_home -v 14<span style=color:#f92672>)</span>
set -U fish_user_paths $JAVA_HOME
</code></pre></div><p>さいごにJavaのバージョンを確認して終わり。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>java -version
</code></pre></div></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/blog/tags/tool/ rel=tag>tool</a></li></ul></div></footer></article></main></div></div></div><script async defer src=/blog/js/menu.js></script></body></html>